<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="modelicaElementFilters" name="Modelica Element Filters" schema="schema/org.modelica.mdt.ui.modelicaElementFilters.exsd"/>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.modelica.mdt.ModelicaCategory"
            name="Modelica"/>
      <view
            category="org.modelica.mdt.ModelicaCategory"
            class="org.modelica.mdt.ui.view.ModelicaProjectsView"
            icon="icons/etool16/newproject_wiz.gif"
            id="org.modelica.mdt.ui.view.ModelicaProjectsView"
            name="Modelica Projects"/>
      <view
            category="org.modelica.mdt.ModelicaCategory"
            class="org.modelica.mdt.ui.view.ModelicaConsoleView"
            icon="icons/obj16/mo_file.gif"
            id="org.modelica.mdt.ui.view.ModelicaConsoleView"
            name="OpenModelica Console"/>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="org.modelica.mdt.ModelicaCategory"
            name="Modelica"/>
      <wizard
            category="org.modelica.mdt.ModelicaCategory"
            class="org.modelica.mdt.ui.wizards.NewProjectWizard"
            icon="icons/etool16/newproject_wiz.gif"
            id="org.modelica.mdt.NewProjectWizard"
            name="Modelica Project"
            project="true">
         <description>
            Create a new Modelica project.
         </description>
      </wizard>
      <wizard
            category="org.modelica.mdt.ModelicaCategory"
            class="org.modelica.mdt.ui.wizards.NewClassWizard"
            icon="icons/obj16/class_obj.gif"
            id="org.modelica.mdt.NewClassWizard"
            name="Modelica Class">
         <description>
            Create a new Modelica class.
         </description>
         <selection class="org.eclipse.core.resources.IResource"/>  
      </wizard>
      <wizard
            category="org.modelica.mdt.ModelicaCategory"
            class="org.modelica.mdt.ui.wizards.NewPackageWizard"
            icon="icons/obj16/package_obj.gif"
            id="org.modelica.mdt.NewPackageWizard"
            name="Modelica Package">
         <description>
            Create a new Modelica package.
         </description>
      </wizard>        
   </extension>
   <extension
         id="org.modelica.mdt.editor"
         name="Modelica Editor"
         point="org.eclipse.ui.editors">
      <editor
            class="org.modelica.mdt.ui.editor.ModelicaEditor"
            contributorClass="org.modelica.mdt.ui.editor.ModelicaActionContributor"
            default="true"
            extensions="mo, mos"
            icon="icons/obj16/mo_file.gif"
            id="org.modelica.mdt.editor"
            name="Modelica Editor"/>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.modelica.mdt.ui.ModelicaPerspective"
            id="org.modelica.mdt.ui.ModelicaPerspective"
            name="Modelica"/>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="icons/ovr16/modelica_ovr.gif"
            id="org.modelica.mdt.modelicaNatureImage"
            natureId="org.modelica.mdt.core.ModelicaNature"/>
   </extension>
   <extension
         id="ModelicaHelp"
         name="Modelica Help"
         point="org.eclipse.help.toc">
	  <toc
         extradir="doc"
         file="doc/toc.xml"
         primary="true"/>
   </extension>
   <extension
         point="org.eclipse.ui.elementFactories">
      <factory
            class="org.modelica.mdt.ui.ModelicaElementFactory"
            id="org.modelica.mdt.ui.ModelicaElementFactory"/>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.modelica.mdt.ui.preferences.ModelicaPreferencePage"
            id="org.modelica.mdt.ui.modelica"
            name="Modelica"/>
   </extension>
   <extension
         point="org.eclipse.core.filebuffers.documentSetup">
      <participant
            class="org.modelica.mdt.ui.text.ModelicaDocumentSetupParticipant"
            extensions="mo"/>
   </extension>
   <extension
         point="org.eclipse.ui.console.consolePatternMatchListeners">
      <consolePatternMatchListener
            class="org.modelica.mdt.ui.console.MetaModelicaPatternMatchListener"
            id="org.modelica.mdt.ui.console.MetaModelicaPatternMatchListener"
            regex="([^:\n\r]+)\\:([0-9]+)(.*)">
         <enablement>
            <instanceof value="org.eclipse.ui.console.TextConsole"/>
         </enablement>
      </consolePatternMatchListener>
   </extension>
   
   <extension point="org.eclipse.ui.contexts">
      <context
  		name="Editing Modelica Source"
  		description="Editing Modelica Source Context"
  		parentId="org.eclipse.ui.textEditorScope"
  		id="org.modelica.mdt.ui.modelicaEditorScope">
  	  </context>
   </extension>
   
   <extension point="org.eclipse.ui.commands">
   <category 
   		name="Source"
   		description="Modelica Source Actions"
   		id="org.modelica.mdt.ui.category.source" >
   </category>
   <command
   		name="Show Tooltip Description"
   		description="Shows the tooltip description for the element at the cursor"
   		categoryId="org.eclipse.ui.category.edit"
   		id="org.modelica.mdt.ui.edit.text.show.modelicadoc"
   >
   </command>
   </extension>
   
   <extension point="org.eclipse.ui.bindings">   
	  <key
	  	sequence="F2"
	  	contextId="org.modelica.mdt.ui.modelicaEditorScope"
	  	commandId="org.modelica.mdt.ui.edit.text.show.modelicadoc"
	  	schemeId="org.eclipse.ui.defaultAcceleratorConfiguration" />
  </extension>   
   
   <extension
         id="MetaModelicaBuildMarker"
         name="MetaModelica Build Error"
         point="org.eclipse.core.resources.markers">
      <super type="org.eclipse.core.resources.problemmarker"/>
      <persistent value="true"/>
   </extension>
   <extension
         point="org.eclipse.ui.ide.resourceFilters">
      <filter
            pattern="*.c"
            selected="false"/>
      <filter
            pattern="*.srz"
            selected="false"/>
      <filter
            pattern="*.sig"
            selected="false"/>
      <filter
            pattern="*.h"
            selected="false"/>
      <filter
            pattern="*.cpp"
            selected="false"/>
      <filter
            pattern="*.cc"
            selected="false"/>
      <filter
            pattern="*.hpp"
            selected="false"/>
      <filter
            pattern="*.hpp"
            selected="false"/>
      <filter
            pattern="*.o"
            selected="false"/>
      <filter
            pattern="*.obj"
            selected="false"/>
      <filter
            pattern="*.lib"
            selected="false"/>
      <filter
            pattern="*.a"
            selected="false"/>
      <filter
            pattern="*.pdb"
            selected="false"/>
      <filter
            pattern="StandardLibrary"
            selected="false"/>
   </extension>
   <extension
         point="org.eclipse.ui.console.consoleFactories">
      <consoleFactory
            class="org.modelica.mdt.ui.console.ModelicaConsoleFactory"
            icon="icons/obj16/mo_file.gif"
            label="MDT Console"/>
   </extension>
   <extension point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="org.eclipse.ui.resourcePerspective">
         <perspectiveShortcut id="org.modelica.mdt.ui.ModelicaPerspective"></perspectiveShortcut>
    	 <view id="org.modelica.mdt.ui.view.ModelicaProjectsView" 
                relative="org.eclipse.ui.views.ResourceNavigator" 
                relationship="stack"/>          
      </perspectiveExtension>
      <perspectiveExtension targetID="org.modelica.mdt.ui.ModelicaPerspective">
         <perspectiveShortcut id="org.modelica.mdt.ui.ModelicaPerspective"></perspectiveShortcut>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.modelica.mdt.ui.ModelicaPerspective">
         <perspectiveShortcut id="org.eclipse.debug.ui.DebugPerspective"></perspectiveShortcut>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.eclipse.debug.ui.DebugPerspective">
         <perspectiveShortcut id="org.modelica.mdt.ui.ModelicaPerspective"></perspectiveShortcut>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.eclipse.debug.ui.DebugPerspective">
         <actionSet
               id="org.modelica.mdt.ui.ModelicaActionSet">
         </actionSet>
      </perspectiveExtension>
      
      <perspectiveExtension targetID="org.modelica.mdt.ui.ModelicaPerspective">
         <showInPart id="org.modelica.mdt.ui.view.ModelicaProjectsView"/>
         <showInPart id="org.eclipse.team.ui.GenericHistoryView"/>
         <showInPart id="org.eclipse.ui.views.ResourceNavigator"/>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.modelica.mdt.ui.ModelicaPerspective">
         <showInPart id="org.modelica.mdt.ui.view.ModelicaProjectsView"/>
         <showInPart id="org.eclipse.team.ui.GenericHistoryView"/>
         <showInPart id="org.eclipse.ui.views.ResourceNavigator"/>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.modelica.mdt.ui.ModelicaPerspective">
         <showInPart id="org.modelica.mdt.ui.view.ModelicaProjectsView"/>
         <showInPart id="org.eclipse.team.ui.GenericHistoryView"/>        
         <showInPart id="org.eclipse.ui.views.ResourceNavigator"/>
      </perspectiveExtension>
      <perspectiveExtension targetID="org.eclipse.debug.ui.DebugPerspective">
         <showInPart id="org.modelica.mdt.ui.view.ModelicaProjectsView"/>
      </perspectiveExtension>      
   </extension>
</plugin>
